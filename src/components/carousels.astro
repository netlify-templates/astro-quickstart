---
import '../styles/components/carousel.scss'
---
<slot />
<script is:inline>
    let carousels = document.querySelectorAll('.carousel')
    carousels.forEach(function(carousel, i) {
        var dataI = parseInt(carousel.getAttribute('data-index'))
        if (!!dataI || dataI === 0) {
            i = dataI
        }

        carousel.querySelectorAll('.arrow').forEach(a => {
            a.removeAttribute('hidden')
        })
    })
</script>
<script is:inline>
    function goBack(arrow) {
        var carousel = arrow.parentNode.parentNode
        var dataColumns = carousel.getAttribute('data-columns')

        var active = carousel.getAttribute('active-index')
        if (active <= 0) return
        carousel.setAttribute(active-1)
    }
  
    function goForw(arrow) {
        var carousel = arrow.parentNode.parentNode
        var dataColumns = carousel.getAttribute('data-columns')

        var active = carousel.getAttribute('active-index')
        if (active >= dataColumns-1) return
        carousel.setAttribute(active+1)
    }
</script>